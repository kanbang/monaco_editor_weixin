"use strict";function init(){function e(e,r,t){r({errMsg:t?"getNetworkTypeSync:ok":"getNetworkType:ok",networkType:f.getNetworkType()})}function r(){var e=v.getCurrentProject(),r=d.getWebviewInfo(),t=void 0,n=void 0;"iOS"===r.os?(t=j,n=C):(t=_,n=M);var o=r.height-n;o-="iOS"===r.os?20:f.getStatusBarHeight();var i=!1,s=d.getCurrentWebviewUrl();try{var a=b.parse(s);a=a.pathname.replace(/^\//,"").replace(/\.html$/,""),i=w.isTabBar(e,a)}catch(e){m.error("deviceSdk.js _getSystemInfo check isTabBar error:"+e+", route:"+s)}return i&&(o-=t),{model:r.model,pixelRatio:r.dpr,screenWidth:r.width,screenHeight:r.height,windowWidth:r.width,windowHeight:o,system:"iOS"===r.os?"iOS 10.0.1":"Android 5.0",language:"zh_CN",version:"6.5.6"}}function t(e,t,n){var o=r();o.errMsg="getSystemInfo:ok",t(o)}function n(e,t,n){var o=r();o.errMsg="getSystemInfoSync:ok",t(o)}function o(r,t){e(r,t,!0)}function i(e,r){var t=e.args.phoneNumber;q("拨打 "+t+"?【仅为模拟】",function(e){r(e?{errMsg:"makePhoneCall:ok"}:{errMsg:"makePhoneCall:cancel"})})}function s(e,r){var t=e.args,n=d.getSensorStatus();n.accelerometer=t.enable,d.setSensorStatus(n),r({errMsg:"enableAccelerometer:ok"})}function a(e,r){r({errMsg:"enableCompass:ok"})}function c(e,r){var t=d.getDeviceBrightness();r({errMsg:"getScreenBrightness:ok",value:t})}function g(e,r){var t=parseFloat(e.args.value);return isNaN(t)?void r({errMsg:"setScreenBrightness:fail error parameter"}):(d.setDeviceBrightness(t),void r({errMsg:"setScreenBrightness:ok"}))}function u(e,r){var t=e.args.keepScreenOn;d.setKeepScreenOn(t),r({errMsg:"setKeepScreenOn:ok"})}function l(e,r){var t=v.getCurrentProject();k.checkWeRunState(t,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"用户未开启微信运动，请在微信客户端开启";return e?r({errMsg:"openWeRunSetting:fail "+e}):void(1==t?r({errMsg:"openWeRunSetting:ok"}):(r({errMsg:"openWeRunSetting:fail "+n}),p.showSimulatorConfirm({content:n,type:"alert"})))})}function S(e,r){h.sendASSDK("captureScreen",e,r)}var h=require("../../actions/webviewActions.js"),p=require("../../actions/windowActions.js"),f=require("../../stores/webviewStores.js"),d=require("../../stores/windowStores.js"),v=require("../../stores/projectStores.js"),w=require("../../weapp/utils/projectManager.js"),k=require("../actions/actions.js"),m=require("../log/log.js"),b=require("url"),y=(require("path"),require("../../config/weappConfig.js")),_=y.default_android_tabbar_height,M=y.default_android_titlebar_height,j=y.default_ios_tabbar_height,C=y.default_ios_titlebar_height,q=function(e,r){p.showSimulatorConfirm({content:e,callback:r})};_exports={getSystemInfoSync:n,getSystemInfo:t,getNetworkType:e,getNetworkTypeSync:o,makePhoneCall:i,enableAccelerometer:s,enableCompass:a,getScreenBrightness:c,setScreenBrightness:g,setKeepScreenOn:u,openWeRunSetting:l,captureScreen:S}}var _exports;init(),module.exports=_exports;