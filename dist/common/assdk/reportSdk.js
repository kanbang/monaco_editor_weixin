"use strict";function init(){var t=require("../request/request.js"),r=require("../../actions/windowActions.js"),o=require("../../stores/webviewStores.js"),i=require("../../stores/projectStores.js"),n=require("../../config/urlConfig.js"),s=require("../../common/log/log.js"),a=require("../../config/config.js"),p=function(e,t){try{var i=o.getCustomAnalysisConfig();i?(t({errMsg:"getAppConfig:ok",data:i,type:1}),r.showInConsole(a.CUSTOM_ANALYSIS_GET_APP_CONFIG,i)):t({errMsg:"getAppConfig:fail empty config"})}catch(e){t({errMsg:"getAppConfig:fail "+e})}},c=function(p,c){try{var g=p.args.actionData;if(!g)return{errMsg:"reportRealtimeAction:fail actionData must be provided"};var f=i.getCurrentProject().appid;t({url:n.IDKeyBatchReport+"?appid="+f,needToken:1,method:"post",body:JSON.stringify({RecordList:[{type:2,appid:f,time:Math.round((new Date).getTime()/1e3),ext:g,appstate:2}]})},function(t,i,n){if(t)s.info("reportRealtimeAction fail with error: "+e.toString());else try{var p=JSON.parse(n);0===p.BaseResponse.Ret?(r.showInConsole(a.CUSTOM_ANALYSIS_REPORT,{actionData:JSON.parse(g),config:o.getCustomAnalysisConfig()}),s.info("reportRealtimeAction successfully reported")):s.info("reportRealtimeAction fail with error: "+p)}catch(e){s.info("reportRealtimeAction fail with error: "+e.toString())}}),c({errMsg:"reportRealtimeAction:ok"})}catch(e){c({errMsg:"reportRealtimeAction:fail "+e})}};_exports={getAppConfig:p,reportRealtimeAction:c}}var _exports;init(),module.exports=_exports;