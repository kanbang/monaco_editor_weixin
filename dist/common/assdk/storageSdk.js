"use strict";function init(){function e(e,t,a){p.setProjectLocalStorage(t,a),f.upASData(e,a)}function t(e,t,a){var o=e.apphash,r=p.getProjectLocalStorage(o),g=a?"getStorageSync":"getStorage",n=e.args,c=n.key,i=r[c],S=void 0;S=void 0!==i?{errMsg:g+":ok",data:i.data,dataType:i.dataType}:{errMsg:g+":fail data not found"},t(S)}function a(t,a,o){var r=t.appid,g=t.apphash,n=p.getProjectLocalStorage(g),c=o?"setStorageSync":"setStorage",i=t.args,S=i.key,s=i.data,f=i.dataType;n[S]={data:s,dataType:f};var l=p.getProjectConfig({hash:g}),u=l?l.Setting.MaxLocalstorageSize:y;JSON.stringify(n).length>1024*u*1024?a({errMsg:c+":fail exceed storage max size "+u+"Mb;"}):(e(r,g,n),a({errMsg:c+":ok"}))}function o(t,a,o){var r=t.appid,g=t.apphash;e(r,g,{}),a({errMsg:o?"clearStorageSync:ok":"clearStorage:ok"})}function r(t,a,o){var r=t.appid,g=t.apphash,n=p.getProjectLocalStorage(g),c=t.args,i=c.key;delete n[i],e(r,g,n),a({errMsg:o?"removeStorageSync:ok":"removeStorage:ok"})}function g(e,t,a){var o=e.apphash,r=p.getProjectLocalStorage(o),g={};g.keys=Object.keys(r),g.currentSize=Math.ceil(JSON.stringify(r).length/1024);var n=p.getProjectConfig({hash:o}),c=n?n.Setting.MaxLocalstorageSize:y;g.limitSize=1024*c,g.errMsg=a?"getStorageInfoSync:ok":"getStorageInfo:ok",t(g)}function n(e,t){g(e,t,!0)}function c(e,t){r(e,t,!0)}function i(e,t){o(e,t,!0)}function S(e,a){t(e,a,!0)}function s(e,t){a(e,t,!0)}var p=require("../../stores/projectStores.js"),f=require("../../actions/webviewActions.js"),y=10;_exports={getStorage:t,clearStorage:o,setStorage:a,removeStorage:r,getStorageInfo:g,getStorageSync:S,setStorageSync:s,clearStorageSync:i,removeStorageSync:c,getStorageInfoSync:n}}var _exports;init(),module.exports=_exports;