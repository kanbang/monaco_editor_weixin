"use strict";function init(){var e=require("../../../lib/react.js"),t=require("../../../cssStr/cssStr.js"),s=require("./devicemodules.js"),o=require("./network.js"),r=require("./compiletype.js"),i=require("./more.js"),a=(require("./input.js"),require("../../../stores/windowStores.js")),l=require("../../../actions/windowActions.js"),n=require("../../../stores/projectStores.js"),c=(require("../../../stores/webviewStores.js"),"toolstabs"),m=e.createClass({displayName:"ToolBar",getInitialState:function(){return{showItems:!1,showMask:!1}},_clickToolsbar:function(e){c!=e&&this.setState({showItems:!1})},componentDidMount:function(){a.on("CLICK_TOOLSBAR",this._clickToolsbar)},componentWillUnmount:function(){a.removeListener("CLICK_TOOLSBAR",this._clickToolsbar)},showItems:function e(t){t.stopPropagation();var e=!this.state.showItems;if(e)for(var s in this.props.list)this.props.getSimulatorActions("S_SET_ACTION",parseInt(s),{act:"CAPTURE"});this.setState({showItems:e}),l.clickToolsbar(c)},clickItems:function(e){e.stopPropagation();var t=e.currentTarget,s=t.dataset,o=parseInt(s.webviewid);this.setState({webviewID:o}),this.props.getSimulatorActions("S_CHANGE_CURRENT_WEBVIEW",null,{webviewID:o})},onWebviewEditClick:function(){var e=this.props.project;n.setProjectEditWebview(e.hash,!e.editWebview)},render:function(){var a=this.props,l=a.list,n=a.show,c=(a.project,this.props.currentWebviewID),m=Object.keys(l).length,u=m>1?{}:t.displayNone,p=this.state.showMask?{}:t.displayNone,h=[];for(var b in l){var d="simulator-toolbar-tabs-item "+(b==c?" simulator-toolbar-tabs-item-current":"");h.push(e.createElement("div",{onClick:this.clickItems,className:d,"data-webviewid":b,key:b},e.createElement("img",{src:l[b].dataURI})))}var w=this.state.showItems?{}:t.displayNone,v="edit"===n?{}:t.displayNone;return e.createElement("div",{className:"simulator-toolbar-innerWrapper"},e.createElement("div",{className:"simulator-toolbar"},e.createElement("div",{onClick:this.onWebviewEditClick,style:v,className:"simulator-toolbar-toggle"},e.createElement("i",{className:"simulator-toolbar-toggle-icon"})),e.createElement(r,{project:this.props.project}),e.createElement(s,{getSimulatorActions:this.props.getSimulatorActions,project:this.props.project}),e.createElement(o,null),e.createElement(i,null),e.createElement("div",{onClick:this.showItems,className:"simulator-toolbar-tabs",style:u},e.createElement("p",null,"正在调试",m,"个页面"),e.createElement("i",{className:"simulator-toolbar-model-icon-down"}),e.createElement("div",{className:"simulator-toolbar-tabs-content",style:w},h)),e.createElement("div",{style:p,className:"simulator-toolbar-mask"})))}});_exports=m}var _exports;init(),module.exports=_exports;