"use strict";function init(){var t=require("../../../lib/react.js"),e=require("../../../cssStr/cssStr.js"),o=require("../../../stores/windowStores.js"),s=require("../../../actions/windowActions.js"),i="aspectratio",a={.4:"宽高比:2/5",.6:"宽高比:3/5"},r=t.createClass({displayName:"AspectRatio",getInitialState:function(){var t=o.getSearchWidgetAspectRatio();return{showList:!1,ratio:t}},handleOnClick:function(t){t.stopPropagation(),this.setState({showList:!this.state.showList}),s.clickToolsbar(i)},_clickToolsbar:function(t){i!=t&&this.setState({showList:!1})},componentDidMount:function(){o.on("CLICK_TOOLSBAR",this._clickToolsbar),o.on("BODY_CLICK",this._clickToolsbar)},componentWillUnmount:function(){o.removeListener("CLICK_TOOLSBAR",this._clickToolsbar),o.removeListener("BODY_CLICK",this._clickToolsbar)},handleSelect:function(t){t.stopPropagation();var e=t.currentTarget,s=e.dataset,i=parseFloat(s.value);o.setSearchWidgetAspectRatio(i),this.setState({showList:!1,ratio:i})},render:function(){var o=this.state.showList?{}:e.displayNone,s=this.state.showList?"simulator-toolbar-model-icon-up":"simulator-toolbar-model-icon-down",i=[];for(var r in a){var l=a[r],n="simulator-toolbar-model-content-item";r==this.state.ratio&&(n+=" simulator-toolbar-model-content-item-current"),i.push(t.createElement("div",{onClick:this.handleSelect,className:n,"data-value":r,key:r},t.createElement("p",null,l)))}return t.createElement("div",{style:{display:this.props.show?"":"none"},className:"simulator-toolbar-model simulator-toolbar-model_network",onClick:this.handleOnClick},t.createElement("p",null,a[this.state.ratio]),t.createElement("i",{className:s}),t.createElement("div",{className:"simulator-toolbar-model-content",style:o},i))}});_exports=r}var _exports;init(),module.exports=_exports;