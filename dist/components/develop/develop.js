"use strict";function init(){var e=require("../../lib/react.js"),t=require("../simulator/controller.js"),r=require("../widget/controller.js"),i=require("../debugger/debugger.js"),s=require("../../cssStr/cssStr.js"),o=require("../../stores/projectStores.js"),p=require("../../stores/webviewStores.js"),n=require("../../config/compileTypeConfig.js"),c=e.createClass({displayName:"Develop",getInitialState:function(){var e=!1,t=n.weapp,r=this.props.project;return r&&(t=r.compileType,e=r.editWebview),{project:!!this.props.project,compileType:t,editWebview:e}},_restart:function(){var e=this;this.setState({project:!1},function(){p.setCurrentWebviewID(0),e.setState({project:!0})})},_editWebview:function(e,t){e.hash===this.props.project.hash&&this.setState({editWebview:t})},_onCompileTypeChange:function(e){var t=this;this.setState({project:!1},function(){t.setState({compileType:e,project:!0})})},componentDidMount:function(){o.on("RESTART_PROJECT",this._restart),o.on("PROJECT_STORES_CHANGE_EDIT_WEBVIEW",this._editWebview),o.on("ON_COMPILE_CHANGE",this._onCompileTypeChange)},componentWillUnmount:function(){o.removeListener("RESTART_PROJECT",this._restart),o.removeListener("PROJECT_STORES_CHANGE_EDIT_WEBVIEW",this._editWebview),o.removeListener("ON_COMPILE_CHANGE",this._onCompileTypeChange)},render:function(){var o=this.props,p=o.show,c=o.project,a=Object.assign({},s.webviewDisplayNone);"debug"===p&&(a={}),"edit"===p&&this.state.editWebview&&(a={flex:"initial"});var h="";if(this.props.project){var l=this.state.compileType;l===n.weapp?this.state.project&&(h=e.createElement(t,{show:p,project:c})):l!==n.widget&&l!==n.search||this.state.project&&(h=e.createElement(r,{show:p,project:c})),a.marginTop=-52}else h=e.createElement(t,{show:p,project:c});return e.createElement("div",{className:"develop",style:a},h,e.createElement(i,{project:this.props.project,propshow:p}))}});_exports=c}var _exports;init(),module.exports=_exports;