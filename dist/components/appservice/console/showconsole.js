"use strict";function init(){function e(e,o){var n=o,r=n.file,c=n.msg;e.executeScript({code:'console.group("'+new Date+' js 文件，编译错误")\n        console.error(`'+r+"\n"+c+"`)\n      console.groupEnd()"})}function o(e,o){var n=o.target.src,r=w.parse(n),c=r.pathname.replace(/html$/,"wxml"),t=b[o.level],s=(o.message||"").replace(W,"").replace(/\"/g,'\\"');e.executeScript({code:'console.group("'+new Date+" "+c+'")\n        console.'+t+'("'+s+'")\n      console.groupEnd()'})}function n(e,o){var n=JSON.parse(decodeURIComponent(o.replace(j,""))),r=n.file,c=n.msg.replace(/\`/g,"'");e.executeScript({code:'console.group("'+new Date+' wxml 文件，编译错误")\n        console.error(`'+r+"\n"+c+"`)\n      console.groupEnd()"})}function r(e,o){var n=o.file,r=o.msg;e.executeScript({code:'console.group("'+new Date+' 读取 app.json 错误")\n        console.error(`'+n+"\n"+r+"`)\n      console.groupEnd()"})}function c(e,o){var n=o.file,r=o.msg;e.executeScript({code:'console.group("'+new Date+' 读取入口页面错误")\n        console.error(`'+n+"\n"+r+"`)\n      console.groupEnd()"})}function t(e,o){var n=o.file,r=o.msg;e.executeScript({code:'console.group("'+new Date+' parse json 错误")\n        console.error(`'+n+"\n"+r+"`)\n      console.groupEnd()"})}function s(e,o){var n=o.file,r=o.msg;e.executeScript({code:'console.group("'+new Date+' json 内容错误")\n        console.error(`'+n+"\n"+r+"`)\n      console.groupEnd()"})}function l(e,o){var n=o.file,r=o.msg,c=n.replace(/\.js$/,"");e.executeScript({code:'console.group("'+new Date+" 未找到配置在 app.json 中的 "+c+' 页面")\n        console.error(`app.json\n'+r+"`)\n      console.groupEnd()"})}function p(e,o){e.executeScript({code:'console.group("'+new Date+' 当前页面未配置")\n        console.error(`'+o.replace(P,"")+"`)\n      console.groupEnd()"})}function u(e,o){var n=f.parseWXMLRuntimeErr(o);if(n){var r=b[o.level],c=r;"warn"===c&&(c="warning"),e.executeScript({code:'console.group("'+new Date+" WXML Runtime "+c+'")\n        console.'+r+"(`"+n.file+"`)\n        console."+r+"(`"+n.msg+"`)\n      console.groupEnd()"})}}function i(e,o){var n=o.message,r=o.level;if(2===r){b[o.level];e.executeScript({code:'console.group("'+new Date+' 渲染层错误")\n        console.error(`'+n+"`)\n      console.groupEnd()"})}}function a(e,o){e.executeScript({code:'console.group("'+new Date+' wxss 文件，编译错误")\n        console.error(`'+o.file+"\n"+o.msg+"`)\n      console.groupEnd()"})}function E(e,o){e.executeScript({code:'console.group("'+new Date+' wxss 文件，编译错误")\n        console.error(`'+o.file+"\n"+o.msg+"`)\n      console.groupEnd()"})}function g(e,o){var n=decodeURIComponent(o.message).replace(A,"");e.executeScript({code:'console.group("'+new Date+' wxml 文件，编译错误")\n        console.error(`'+n+"`)\n      console.groupEnd()"})}function R(e,o){var n=o.details,r=n.type,c=n.url,t="image"===r&&c.indexOf("do-not-use-local-path-")>-1,s="",l="",p="";if(t){var u=c.replace(/.*do-not-use-local-path-/,""),i=u.split("&"),a=i[0].replace("./",""),E=parseInt(i[1]),g=parseInt(i[2]),R=x.getCurrentProject();m.getFile(R,a,function(o,n){if(o)return void log.error("showconsole.js showWebviewNetworkError "+o.toString());n=n.toString(),l=a+" 中的本地资源图片无法通过 WXSS 获取，可以使用网络图片，或者 base64，或者使用<image/>标签。请参考文档：\n  https://mp.weixin.qq.com/debug/wxadoc/dev/qa.html#%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90%E6%97%A0%E6%B3%95%E9%80%9A%E8%BF%87-css-%E8%8E%B7%E5%8F%96";var r=v(n,E,g);e.executeScript({code:'console.group("'+new Date+' 渲染层网络层错误")\n            console.error(`'+l+"\n"+r+"`)\n          console.groupEnd()"})})}else s=n.error||"the server responded with a status of "+n.statusCode+" ("+n.statusLine+")",l="Failed to load "+n.type+" "+n.url+" : "+s+" ",p=n.ip?"From server "+n.ip:"",e.executeScript({code:'console.group("'+new Date+' 渲染层网络层错误")\n          console.error(`'+l+"\n"+p+"`)\n        console.groupEnd()"})}function S(e,o,n){n.postMessage("contentscript",o,"SHOW_CUSTOM_ANALYSIS_GET_APP_CONFIG")}function _(e,o,n){n.postMessage("contentscript",o,"SHOW_CUSTOM_ANALYSIS_ON_APP_CONFIG")}function d(e,o,n){n.postMessage("contentscript",o,"SHOW_CUSTOM_ANALYSIS_REPORT")}var O=require("../../../config/config.js"),f=require("../../../weapp/utils/parseErr.js"),w=require("url"),m=require("../../../weapp/utils/projectManager.js"),x=require("../../../stores/projectStores.js"),v=require("babel-code-frame");_exports={};var N=O.WEBVIEW_NETWORK_ERROR,A=O.WXML_LOSE_ERROR,I=O.WXSS_IMPORT_ERROR,C=O.WXSS_ERROR,D=O.WEBVIEW_ERROR,M=O.JSON_ENTRANCE_ERROR,P=O.PAGE_DEFINE_ERROR,T=O.PAGEJS_FILE_ERROR,W=O.COMPONENT_FOR_DEVELOPER,L=O.ES6_ERROR,j=O.WXML_ERROR,F=O.JSON_FILE_ERROR,h=O.JSON_PARSE_ERROR,q=O.WXML_RUNTIME_ERROR,U=O.JSON_CONTENT_ERROR,B=O.CUSTOM_ANALYSIS_GET_APP_CONFIG,G=O.CUSTOM_ANALYSIS_ON_APP_CONFIG,X=O.CUSTOM_ANALYSIS_REPORT,b={"-1":"debug",0:"info",1:"warn",2:"error"};_exports=function(O,f,w,m){f===W?o(O,w):f===j?n(O,w):f===L?e(O,w):f===F?r(O,w):f===h?t(O,w):f===T?l(O,w):f===P?p(O,w):f===q?u(O,w):f===M?c(O,w):f===D?i(O,w):f===C?a(O,w):f===I?E(O,w):f===A?g(O,w):f===U?s(O,w):f===N?R(O,w):f===B?S(O,w,m):f===G?_(O,w,m):f===X&&d(O,w,m)}}var _exports;init(),module.exports=_exports;